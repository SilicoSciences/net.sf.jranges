RangeUtils: doForAll() should use a Visitor.